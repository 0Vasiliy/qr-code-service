import{d as O,K as S,D as C,r as v,o as F,U as L,v as m,F as c,x as d,y as e,z as a,G as U,H as _,I as w,S as b,_ as j,A as q,E as p,n as B,V as I}from"./BHSnezM6.js";const N={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},R={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},z={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full modal-content"},D={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},M={class:"sm:flex sm:items-start"},A={class:"mt-3 text-center sm:mt-0 sm:text-left w-full"},G={class:"text-lg leading-6 font-medium text-gray-900 mb-4"},H={for:"name",class:"block text-sm font-medium text-gray-700"},K={key:0,class:"mt-1 text-sm text-red-600"},P={for:"email",class:"block text-sm font-medium text-gray-700"},J={key:0,class:"mt-1 text-sm text-red-600"},Q={for:"message",class:"block text-sm font-medium text-gray-700"},W={key:0,class:"mt-1 text-sm text-red-600"},X={class:"mt-4"},Y=["disabled"],Z={key:0,class:"mt-4 p-4 bg-green-100 text-green-700 rounded-md"},ee={key:1,class:"mt-4 p-4 bg-red-100 text-red-700 rounded-md"},se={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},te=O({__name:"FeedbackForm",props:{isOpen:{type:Boolean,required:!0}},emits:["update:isOpen"],setup(h,{emit:g}){const{t:r}=S(),u=h,i=g,t=C({name:"",email:"",message:""}),o=C({name:"",email:"",message:""}),l=v(!1),k=v(!1),x=v(""),E=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),T=()=>{let s=!0;return o.name="",o.email="",o.message="",t.name.trim()||(o.name=r("feedback.errors.nameRequired"),s=!1),t.email.trim()?E(t.email)||(o.email=r("feedback.errors.emailInvalid"),s=!1):(o.email=r("feedback.errors.emailRequired"),s=!1),t.message.trim()?t.message.length<10&&(o.message=r("feedback.errors.messageTooShort"),s=!1):(o.message=r("feedback.errors.messageRequired"),s=!1),s},V=async()=>{if(T()){l.value=!0,x.value="",k.value=!1;try{await new Promise(s=>setTimeout(s,1e3)),k.value=!0,t.name="",t.email="",t.message="",setTimeout(()=>{y()},2e3)}catch{x.value=r("feedback.errors.submitFailed")}finally{l.value=!1}}},y=()=>{const s=document.querySelector(".modal-content"),n=document.querySelector(".modal-backdrop");s&&n?(s.classList.add("closing"),n.classList.add("closing"),setTimeout(()=>{i("update:isOpen",!1),s.classList.remove("closing"),n.classList.remove("closing")},300)):i("update:isOpen",!1)},$=s=>{s.key==="Escape"&&u.isOpen&&y()};return F(()=>{document.addEventListener("keydown",$)}),L(()=>{document.removeEventListener("keydown",$)}),(s,n)=>h.isOpen?(d(),m("div",N,[e("div",R,[e("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true"},[e("div",{class:"absolute inset-0 bg-gray-500 opacity-75 modal-backdrop",onClick:y})]),n[3]||(n[3]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"â€‹",-1)),e("div",z,[e("div",D,[e("div",M,[e("div",A,[e("h3",G,a(s.$t("feedback.title")),1),e("form",{onSubmit:U(V,["prevent"]),class:"space-y-4"},[e("div",null,[e("label",H,a(s.$t("feedback.name")),1),_(e("input",{id:"name","onUpdate:modelValue":n[0]||(n[0]=f=>t.name=f),type:"text",class:b(["mt-1 block w-full rounded-md border border-gray-300/50 shadow-sm focus:border-gray-300 focus:ring-gray-300 focus:bg-gray-50 transition-colors duration-200",{"border-red-500":o.name}])},null,2),[[w,t.name]]),o.name?(d(),m("p",K,a(o.name),1)):c("",!0)]),e("div",null,[e("label",P,a(s.$t("feedback.email")),1),_(e("input",{id:"email","onUpdate:modelValue":n[1]||(n[1]=f=>t.email=f),type:"email",class:b(["mt-1 block w-full rounded-md border border-gray-300/50 shadow-sm focus:border-gray-300 focus:ring-gray-300 focus:bg-gray-50 transition-colors duration-200",{"border-red-500":o.email}])},null,2),[[w,t.email]]),o.email?(d(),m("p",J,a(o.email),1)):c("",!0)]),e("div",null,[e("label",Q,a(s.$t("feedback.message")),1),_(e("textarea",{id:"message","onUpdate:modelValue":n[2]||(n[2]=f=>t.message=f),rows:"4",class:b(["mt-1 block w-full rounded-md border border-gray-300/50 shadow-sm focus:border-gray-300 focus:ring-gray-300 focus:bg-gray-50 transition-colors duration-200",{"border-red-500":o.message}])},null,2),[[w,t.message]]),o.message?(d(),m("p",W,a(o.message),1)):c("",!0)]),e("div",X,[e("button",{type:"submit",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",disabled:l.value},a(l.value?s.$t("feedback.sending"):s.$t("feedback.submit")),9,Y)]),k.value?(d(),m("div",Z,a(s.$t("feedback.success")),1)):c("",!0),x.value?(d(),m("div",ee,a(x.value),1)):c("",!0)],32)])])]),e("div",se,[e("button",{type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm close-button",onClick:y},a(s.$t("feedback.close")),1)])])])])):c("",!0)}}),oe=j(te,[["__scopeId","data-v-a44844df"]]),ae={class:"min-h-screen bg-emerald-100"},ne={class:"bg-white shadow"},le={class:"max-w-7xl mx-auto py-4 sm:py-6 px-3 sm:px-6 lg:px-8"},re={class:"header flex flex-col sml:flex-row justify-between items-center space-y-2 sm:space-y-0"},ie={class:"text-2xl sm:text-3xl font-bold text-gray-900 mb-0 sm:mb-0 md:mb-5"},me={class:"flex flex-wrap justify-center sm:justify-end gap-2 sm:gap-4 mt-0 sm:mt-0 md:mt-5"},ce=O({__name:"default",setup(h){const{locale:g,setLocale:r}=S(),u=v(!1);return(i,t)=>{const o=oe;return d(),m("div",ae,[e("header",ne,[e("div",le,[e("div",re,[e("h1",ie,a(i.$t("home.title")),1),e("div",me,[e("button",{onClick:t[0]||(t[0]=l=>("navigateTo"in i?i.navigateTo:p(B))("/auth")),class:"px-3 py-1.5 sm:px-4 sm:py-2 rounded-md text-xs sm:text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 transition-colors"},a(i.$t("auth.login")),1),e("button",{onClick:t[1]||(t[1]=l=>p(r)("ru")),class:b([{"text-teal-600":p(g)==="ru"},"px-2 py-1.5 sm:px-3 sm:py-2 rounded-md text-xs sm:text-sm font-medium hover:text-teal-600 transition-colors"])}," RU ",2),e("button",{onClick:t[2]||(t[2]=l=>p(r)("en")),class:b([{"text-teal-600":p(g)==="en"},"px-2 py-1.5 sm:px-3 sm:py-2 rounded-md text-xs sm:text-sm font-medium hover:text-teal-600 transition-colors"])}," EN ",2),e("button",{onClick:t[3]||(t[3]=l=>u.value=!0),class:"ml-4 px-3 py-1.5 sm:px-4 sm:py-2 rounded-md text-xs sm:text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 transition-colors"},a(i.$t("feedback.title")),1)])])])]),e("main",null,[I(i.$slots,"default")]),q(o,{isOpen:u.value,"onUpdate:isOpen":t[4]||(t[4]=l=>u.value=l)},null,8,["isOpen"])])}}});export{ce as default};
